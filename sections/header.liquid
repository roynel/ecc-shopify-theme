<header class="header">
  <div class="header-top">
    <a href="/" class="logo">
      {% if section.settings.logo %}
        <img 
          src="{{ section.settings.logo | image_url: width: 500 }}" 
          alt="{{ shop.name }}"
          class="logo-image"
          style="height: 120px; width: auto;" <!-- Logo height updated to 120px -->
        >
      {% else %}
        <span>{{ shop.name }}</span>
      {% endif %}
    </a>

    <!-- Search bar and user/cart icons remain the same as before -->
  </div>

  <!-- Navigation with dynamic styles -->
  <nav 
    class="header-nav" 
    style="
      background-color: {{ section.settings.nav_bg_color }};
      color: {{ section.settings.nav_text_color }};
      {% if section.settings.nav_bg_image %} 
        background-image: url({{ section.settings.nav_bg_image | image_url }});
        background-size: cover;
        background-position: center;
        opacity: {{ section.settings.nav_bg_opacity | divided_by: 100.0 }};
      {% endif %}
    "
  >
    {% for link in linklists.main-menu.links %}
      <a href="{{ link.url }}" class="nav-link">{{ link.title }}</a>
    {% endfor %}
  </nav>
</header>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "header",
      "content": "Navigation Settings"
    },
    {
      "type": "color",
      "id": "nav_bg_color",
      "label": "Background Color",
      "default": "#000000"
    },
    {
      "type": "image_picker",
      "id": "nav_bg_image",
      "label": "Background Image (Optional)"
    },
    {
      "type": "range",
      "id": "nav_bg_opacity",
      "label": "Image Opacity",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "%",
      "default": 100
    },
    {
      "type": "color",
      "id": "nav_text_color",
      "label": "Text Color",
      "default": "#ffffff"
    }
  ]
}
{% endschema %}